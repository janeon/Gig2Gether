import{s as O,n as I,r as S,c as j,a as A}from"../chunks/scheduler.D050c3lf.js";import{S as B,i as D,s as C,e as y,k as F,d as h,f as T,c as b,l as x,a as N,m as d,g as k,h as _,n as q,o as U,p as H,t as R,b as V,j as W}from"../chunks/index.yNdfQLp3.js";import{g as z}from"../chunks/entry.DuGv2D9f.js";import{s as G}from"../chunks/index-454a0f5f.yx4CPosL.js";import{a as J}from"../chunks/firebase.client.BOU8wA8g.js";import{a as L}from"../chunks/authstore.BS7lpoC_.js";function M(i){let o,t=i[3].message+"",u;return{c(){o=y("div"),u=R(t),this.h()},l(n){o=b(n,"DIV",{class:!0});var e=N(o);u=V(e,t),e.forEach(h),this.h()},h(){d(o,"class","p-8 text-red-500 bg-red-100")},m(n,e){k(n,o,e),_(o,u)},p(n,e){e&8&&t!==(t=n[3].message+"")&&W(u,t)},d(n){n&&h(o)}}}function K(i){let o,t,u="Login",n,e,r,g,l,v,p,E="Login",m,w,P,a=!i[2]&&i[2]!==void 0&&M(i);return{c(){o=C(),t=y("h1"),t.textContent=u,n=C(),e=y("form"),r=y("input"),g=C(),l=y("input"),v=C(),p=y("button"),p.textContent=E,m=C(),a&&a.c(),this.h()},l(s){F("svelte-1bel8ov",document.head).forEach(h),o=T(s),t=b(s,"H1",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1kkq8mp"&&(t.textContent=u),n=T(s),e=b(s,"FORM",{class:!0});var f=N(e);r=b(f,"INPUT",{type:!0,placeholder:!0,class:!0}),g=T(f),l=b(f,"INPUT",{type:!0,placeholder:!0,class:!0}),v=T(f),p=b(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(p)!=="svelte-107onqb"&&(p.textContent=E),m=T(f),a&&a.l(f),f.forEach(h),this.h()},h(){document.title="Login",d(t,"class","text-4xl font-bold"),d(r,"type","email"),d(r,"placeholder","Email"),d(r,"class","px-4 py-2 border border-gray-300 rounded-md"),r.required=!0,d(l,"type","password"),d(l,"placeholder","Password"),d(l,"class","px-4 py-2 border border-gray-300 rounded-md"),l.required=!0,d(p,"type","submit"),d(p,"class","default-action"),d(e,"class","flex flex-col gap-4 p-8 space-y-4 bg-white sm:w-10/12")},m(s,c){k(s,o,c),k(s,t,c),k(s,n,c),k(s,e,c),_(e,r),q(r,i[0]),_(e,g),_(e,l),q(l,i[1]),_(e,v),_(e,p),_(e,m),a&&a.m(e,null),w||(P=[U(r,"input",i[5]),U(l,"input",i[6]),U(e,"submit",H(i[4]))],w=!0)},p(s,[c]){c&1&&r.value!==s[0]&&q(r,s[0]),c&2&&l.value!==s[1]&&q(l,s[1]),!s[2]&&s[2]!==void 0?a?a.p(s,c):(a=M(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:I,o:I,d(s){s&&(h(o),h(t),h(n),h(e)),a&&a.d(),w=!1,S(P)}}}function Q(i,o,t){let u;j(i,L,m=>t(7,u=m));const n=[{type:"auth/user-not-found",message:"This email is not registered. Please register first or try again with a different email."},{type:"auth/wrong-password",message:"The password you entered is incorrect. Please try again."}];let e,r,g,l={type:"",message:""};const v=()=>{G(J,e,r).then(m=>{A(L,u={uid:m.user.uid,email:m.user.email||""},u),z("/protected")}).catch(m=>{const w=m.code,P=n.find(a=>a.type===w);P?t(3,l=P):t(3,l={type:"unknown",message:"There was an error logging in. Please try again."}),t(2,g=!1)})};function p(){e=this.value,t(0,e)}function E(){r=this.value,t(1,r)}return[e,r,g,l,v,p,E]}class se extends B{constructor(o){super(),D(this,o,Q,K,O,{})}}export{se as component};
